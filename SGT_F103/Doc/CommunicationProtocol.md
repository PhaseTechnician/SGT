# 通讯协议
## 总述
SGT的AGV系统，在控制台以及各种通讯节点按照预先商定的协议进行通讯。考虑到系统的稳定和实时性，一般情况下不容许大量数据的传输。但是考虑到某些情况下的特殊应用，协议会提供一部分的支持。
## 控制台与通讯节点
>控制台向通讯节点下达一系列的指令，通讯节点上传载具信息到控制台以供监视  
>控制台和通讯节点在同一局域网下进行TCP通讯  
>控制台作为Client主动连接通讯节点的Server  

+ 控制台
    + 一般情况下仅仅接收Server推送的信息并展示。
    + 控制台发送的控制命令对于通讯节点仅仅是建议，通讯节点可以选择无视。基于此机制实现对多控制台的权限控制。
    + 控制指令如下：  
        1. SET RES AT [X,Y]
        2. SET POS AT [X,Y]
        3. SET DES AT [X,Y]
        4. PAUSE
        5. MOVE TO [X,Y]
        6. SET MODE [normal]
        7. GET ID
        8. Change IP
+ 通讯节点
    + 主动向所有连接的控制台推送信息  
        推送信息内容结构例如：
        start  
        id:1234  
        time:00,12,34  
        pos:x,y   
        trag:x,y  
        state:run/catch/drop/error   
        end
    + 接收控制台控制指令
## 通讯节点与视觉节点

## 通讯节点与底盘节点  
+ 通讯节点  

类型|类别代号|子类别代号|参数|功能
---|---|---|---|---|---
移动|M|F/B/L/R/S|[0-255]|设置相应方向的移动速度或者距离
光源|L|O/E|O/C/B|使板载/外部LED打开/关闭/闪烁

+ 底盘节点  
ERROR:[code]
## 通讯节点与机械臂节点
